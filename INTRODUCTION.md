# 遺伝的アルゴリズム (GA) 入門

> 物理の数値シミュレーションで「とりあえず最小値を探したい」ときに  
>  ニュートン法のような微分を使わずに解を見つける方法が **GA** です。

---

## 0. ざっくりストーリー

| 用語         | 物理に例えると …          | このコードでは |
|--------------|---------------------------|---------------|
| 遺伝子 (gene) | 粒子の状態ベクトル `x`   | 実数の配列     |
| 集団 (population) | 多数の粒子系 `x₁, x₂,…` | 行列 `(N, dim)` |
| 適応度 (fitness) | ポテンシャルエネルギー   | 目的関数の値    |
| 世代 (generation) | 時間ステップ Δt         | for ループ 1 回 |

---

## 1. アルゴリズムの流れ（最小化問題）

1. **初期化**  
   区間 `[lo, hi]` に一様乱数で `N` 個の遺伝子を作る。
2. **適応度評価**  
   各 `x` に目的関数 `f(x)` を計算 → 小さいほど良い。
3. **親選択**  
   トーナメント（じゃんけん）方式で 2 個体を選ぶ。
4. **交叉 (crossover)**  
   親のベクトルを切り貼りして 2 つの子を作る。
5. **変異 (mutation)**  
   子に正規分布ノイズ `﻿N(0, σ²)` を少しだけ足す。
6. **置換 & エリート保持**  
   親・子を合わせて次世代を作り，最良個体を必ず残す。
7. **停止**  
   - 世代上限に達した  
   - 改善が `patience` 世代続けて見られない  
   - `f(x)` が目標値以下

   のいずれかで終了。

---

## 2. 手を動かす

```bash
# 例: cos x - x = 0 の根を探す
python examples/demo_root_1d.py
````

* 収束の様子は `examples/demo_root_1d.py` で確認できます。
* 二変数の例は `examples/demo_root_2d.py`。

---

## 3. 物理での応用メモ

| 目的                 | 遺伝子の意味    | 一言アドバイス            |
| ------------------ | --------- | ------------------ |
| ポテンシャル井戸の極小探索      | (x, y, z) | 変異の σ を徐々に下げる      |
| フィッティング (例: 実験データ) | パラメータ列    | `bounds` で物理的範囲を制限 |
| 多峰性エネルギー地形         | 状態ベクトル    | 交叉率を高くし，多様性を保つ     |

---

これ以降の詳細は `README.md` と `docs/` を参照してください。
コードを追いながら読むと，実装＝教科書の式 が対応していることが分かります。